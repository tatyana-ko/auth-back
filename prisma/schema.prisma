generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id String @id @default(cuid())

  name String @unique

  email String @unique
  phone String? @unique

  password   String
  avatarPath String? @map("avatar_path")

  rights Role[] @default([USER])

  otpCode           String?   @map("otp_code")
  otpExpiresAt      DateTime? @map("otp_expires_at")
  telegramId        String?   @map("telegram_id")
  verificationToken String?   @default(cuid()) @map("verification_token")

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("users")
}

enum Role {
  USER
  ADMIN
}
